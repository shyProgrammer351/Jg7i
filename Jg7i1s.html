<!DOCTYPE html> <html> 	<head> 		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7250753558435816" crossorigin="anonymous"></script> 		<link rel="stylesheet" href="../layout.css"> 		<script type="text/javascript" src="../functions.js"></script> 		<script> 			const sP3d10 = "S1b S12 E001 C1b C12 E002 S11 S13 S15 E003 C11 C13 C14 E004 S14 S16 S18 E005 C17 C19 C13 C14 E006 S14 S16 S17 S19 S1e C15 C16 C1e"; 		</script> 	</head> 	<body oncontextmenu="return false" oncut="return false" onpaste="return false" draggable="false" ondragstart="return false" ondrop="return false"> 		<div id = "container"> 			<div id = "titleBox"> JAVA 프로그래밍 </div> 			<div id = "navigationBox"><ol start=0><li><a href='../Jf0i/Jf0i0.html'>JAVA 프로그래밍 시작</a></li><li><a href='../Jf1i/Jf1i0.html'>출력</a></li><li><a href='../Jf2i/Jf2i0.html'>입력</a></li><li><a href='../Jf3i/Jf3i0.html'>변수</a></li><li><a href='../Jf4i/Jf4i0.html'>연산자</a></li><li><a href='../Jf5i/Jf5i0.html'>선택문(삼항연산자/switch)</a></li><li><a href='../Jf6i/Jf6i0.html'>선택문(if)</a></li><li><a href='../Jf7i/Jf7i0.html'>반복문(while)</a></li><li><a href='../Jf8i/Jf8i0.html'>반복문(for)</a></li><li><a href='../Jf9i/Jf9i0.html'>배열</a></li><li><a href='../Jg0i/Jg0i0.html'>문자열/컬렉션</a></li><li><a href='../Jg1i/Jg1i0.html'>클래스/패키지</a></li><li><a href='../Jg2i/Jg2i0.html'>상속/다형성</a></li><li><a href='../Jg3i/Jg3i0.html'>GUI기초</a></li><li><a href='../Jg4i/Jg4i0.html'>GUI응용</a></li><li><a href='../Jg5i/Jg5i0.html'>예외/쓰레드</a></li><li><a href='../Jg6i/Jg6i0.html'>파일입출력</a></li><li><a href='../Jg7i/Jg7i0.html'>네트워크(1:1)</a></li><ul><li><a href='../Jg7i/Jg7i1.html'>채팅(서버-클라이언트)</a></li><ul><li><a href='Jg7i1.html'>코드읽기</a></li><li><a href='Jg7i1a.html'>알고리즘</a></li><li><a href='Jg7i1k.html'>키워드</a></li><li><a href='Jg7i1b.html'>빈칸채우기</a></li><li><a href='Jg7i1s.html'>실행순서</a></li><li><a href='Jg7i1m.html'>실행상태</a></li><li><a href='https://github.com/CodeReading101/JAVA/blob/main/Chapter17/NaiveChatServer.java' target='code'>소스코드</a></li></ul><li><a href='../Jg7i/Jg7i2.html'>가위바위보(서버)</a></li><li><a href='../Jg7i/Jg7i3.html'>가위바위보(클라이언트)</a></li><li><a href='../Jg7i/Jg7i4.html'>구슬찾기(서버)</a></li><li><a href='../Jg7i/Jg7i5.html'>구슬찾기(클라이언트)</a></li></ul><li><a href='../Jg8i/Jg8i0.html'>네트워크(1:n)</a></li><li><a href='../Jg9i/Jg9i0.html'>열거형/제네릭</a></li><li><a href='../Jh0i/Jh0i0.html'>재귀함수</a></li></ol></div>  			<div id = "contentBox"> 				<h4>문제</h4> 				<pre style='white-space:normal;'>서버와 클라이언트가 네트워크를 통해서 채팅하는 문제입니다 실행순서를 클릭하세요 단 클라이언트에서 메시지를 먼저 전송합니다</pre> 				  	 				<h4>프로그램 코드</h4> 				<pre>
<pre id="codeE001" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('E001')">E001		<font color="green">// Server는 Client가 접속 요청할 때까지 계속 대기</font>
</pre><pre id="codeE002" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('E002')">E002		<font color="green">// Server는 Client가 접속 요청하면 네트워크 연결 초기화</font>
</pre><pre id="codeE003" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('E003')">E003		<font color="green">// Server는 Client의 메시지가 도착할 때까지 계속 대기</font>
</pre><pre id="codeE004" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('E004')">E004		<font color="green">// Client가 메시지([Client]안녕하세요)를 Server에 전송</font>
</pre><pre id="codeE005" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('E005')">E005		<font color="green">// Server가 메시지([Server]반가워요)를 Client에 전송</font>
</pre><pre id="codeE006" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('E006')">E006		<font color="green">// Client가 메시지([Client]bye)를 Server에 전송</font>

</pre><pre id="code0" class="unselectable codeClass">	import java.io.BufferedReader;
</pre><pre id="code0" class="unselectable codeClass">	import java.io.InputStreamReader;
</pre><pre id="code0" class="unselectable codeClass">	import java.io.PrintWriter;
</pre><pre id="code0" class="unselectable codeClass">	import java.net.ServerSocket;
</pre><pre id="code0" class="unselectable codeClass">	import java.net.Socket;
</pre><pre id="code0" class="unselectable codeClass">	import java.util.Scanner;

</pre><pre id="code0" class="unselectable codeClass">	public class NaiveChatServer
</pre><pre id="code0" class="unselectable codeClass">	{
</pre><pre id="codeS1b" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('S1b')">S1b		public static void main(String[] args)
</pre><pre id="code0" class="unselectable codeClass">		{
</pre><pre id="code0" class="unselectable codeClass">			try
</pre><pre id="code0" class="unselectable codeClass">			{
</pre><pre id="code0" class="unselectable codeClass">				System.out.println( "[Client]가 대화를 시작할 때까지 잠시만 기다려 주세요" );

</pre><pre id="code0" class="unselectable codeClass">				ServerSocket serverSocket = new ServerSocket( 7700 );
</pre><pre id="codeS11" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('S11')">S11				Socket socket =
</pre><pre id="codeS12" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('S12')">S12				                serverSocket.accept();

</pre><pre id="code0" class="unselectable codeClass">				BufferedReader networkIn = new BufferedReader( new InputStreamReader( socket.getInputStream() ) );
</pre><pre id="code0" class="unselectable codeClass">				PrintWriter networkOut = new PrintWriter( socket.getOutputStream(), true );
</pre><pre id="code0" class="unselectable codeClass">				Scanner scan = new Scanner( System.in );

</pre><pre id="codeS13" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('S13')">S13				while( true )
</pre><pre id="code0" class="unselectable codeClass">				{
</pre><pre id="codeS14" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('S14')">S14					String clientMessage =
</pre><pre id="codeS15" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('S15')">S15					                       networkIn.readLine();
</pre><pre id="code0" class="unselectable codeClass">					System.out.println( "[Client] " + clientMessage );

</pre><pre id="codeS16" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('S16')">S16					if( clientMessage.equals( "bye" ) )
</pre><pre id="code0" class="unselectable codeClass">					{
</pre><pre id="code0" class="unselectable codeClass">						System.out.println( "[Client]가 대화를 종료하였습니다" );
</pre><pre id="codeS17" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('S17')">S17						break;
</pre><pre id="code0" class="unselectable codeClass">					}
</pre><pre id="code0" class="unselectable codeClass">					
</pre><pre id="code0" class="unselectable codeClass">					System.out.print( "[Server] " );
</pre><pre id="code0" class="unselectable codeClass">					String serverMessage = scan.nextLine();
</pre><pre id="codeS18" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('S18')">S18					networkOut.println( serverMessage );
</pre><pre id="code0" class="unselectable codeClass">				}

</pre><pre id="code0" class="unselectable codeClass">				networkIn.close();
</pre><pre id="code0" class="unselectable codeClass">				networkOut.close();
</pre><pre id="code0" class="unselectable codeClass">				socket.close();
</pre><pre id="code0" class="unselectable codeClass">				serverSocket.close();
</pre><pre id="codeS19" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('S19')">S19				scan.close();
</pre><pre id="code0" class="unselectable codeClass">			}
</pre><pre id="code0" class="unselectable codeClass">			catch ( Exception e )
</pre><pre id="code0" class="unselectable codeClass">			{
</pre><pre id="code0" class="unselectable codeClass">				e.printStackTrace();
</pre><pre id="code0" class="unselectable codeClass">			}
</pre><pre id="codeS1e" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('S1e')">S1e		}
</pre><pre id="code0" class="unselectable codeClass">	}


</pre><pre id="code0" class="unselectable codeClass">	import java.io.BufferedReader;
</pre><pre id="code0" class="unselectable codeClass">	import java.io.InputStreamReader;
</pre><pre id="code0" class="unselectable codeClass">	import java.io.PrintWriter;
</pre><pre id="code0" class="unselectable codeClass">	import java.net.Socket;
</pre><pre id="code0" class="unselectable codeClass">	import java.util.Scanner;

</pre><pre id="code0" class="unselectable codeClass">	public class NaiveChatClient
</pre><pre id="code0" class="unselectable codeClass">	{
</pre><pre id="codeC1b" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('C1b')">C1b		public static void main(String[] args)
</pre><pre id="code0" class="unselectable codeClass">		{
</pre><pre id="code0" class="unselectable codeClass">			try
</pre><pre id="code0" class="unselectable codeClass">			{
</pre><pre id="code0" class="unselectable codeClass">				System.out.println( "[Server]와 함께 얘기 해요 바로 시작해 주세요 bye를 입력하면 종료됩니다" );

</pre><pre id="codeC11" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('C11')">C11				Socket socket =
</pre><pre id="codeC12" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('C12')">C12				         new Socket( "localhost", 7700 );

</pre><pre id="code0" class="unselectable codeClass">				BufferedReader networkIn = new BufferedReader( new InputStreamReader( socket.getInputStream() ) );
</pre><pre id="code0" class="unselectable codeClass">				PrintWriter networkOut = new PrintWriter( socket.getOutputStream(), true );
</pre><pre id="code0" class="unselectable codeClass">				Scanner scan = new Scanner( System.in );
</pre><pre id="code0" class="unselectable codeClass">				
</pre><pre id="codeC13" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('C13')">C13				while( true )
</pre><pre id="code0" class="unselectable codeClass">				{
</pre><pre id="code0" class="unselectable codeClass">					System.out.print( "[Client] " );
</pre><pre id="code0" class="unselectable codeClass">					String clientMessage = scan.nextLine();
</pre><pre id="codeC14" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('C14')">C14					networkOut.println( clientMessage );

</pre><pre id="codeC15" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('C15')">C15					if( clientMessage.equals( "bye" ) )
</pre><pre id="code0" class="unselectable codeClass">					{
</pre><pre id="code0" class="unselectable codeClass">						System.out.println( "[Client]가 대화를 종료하였습니다" );
</pre><pre id="codeC16" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('C16')">C16						break;
</pre><pre id="code0" class="unselectable codeClass">					}

</pre><pre id="codeC17" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('C17')">C17					String serverMessage =
</pre><pre id="codeC18" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('C18')">C18					                       networkIn.readLine();
</pre><pre id="codeC19" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('C19')">C19					System.out.println( "[Server] " + serverMessage );
</pre><pre id="code0" class="unselectable codeClass">				}

</pre><pre id="code0" class="unselectable codeClass">				networkIn.close();
</pre><pre id="code0" class="unselectable codeClass">				networkOut.close();
</pre><pre id="code0" class="unselectable codeClass">				socket.close();
</pre><pre id="code0" class="unselectable codeClass">				scan.close();
</pre><pre id="code0" class="unselectable codeClass">			}
</pre><pre id="code0" class="unselectable codeClass">			catch ( Exception e )
</pre><pre id="code0" class="unselectable codeClass">			{
</pre><pre id="code0" class="unselectable codeClass">				e.printStackTrace();
</pre><pre id="code0" class="unselectable codeClass">			}
</pre><pre id="codeC1e" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('C1e')">C1e		}
</pre><pre id="code0" class="unselectable codeClass">	}
</pre>
</pre> 				<br><br><br><br><br><br><br><br> &nbsp;  			</div> 			<div id = "floatingBox"> 				<b>실행 순서</b> 				<pre id = "sP3d4" style='white-space:normal; word-wrap:break-word; width:150px;'></pre> 			</div> 		</div> 	</body> </html>   
